

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Data types &mdash; isopy 0.3.4 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="keystring" href="Strings/isopy.keystring.html" />
    <link rel="prev" title="Tutorial" href="../tutorial_page.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> isopy
          

          
          </a>

          
            
            
              <div class="version">
                0.3.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_page.html">Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#flavours">Flavours</a></li>
<li class="toctree-l2"><a class="reference internal" href="#key-strings">Key strings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Strings/isopy.keystring.html">keystring</a></li>
<li class="toctree-l3"><a class="reference internal" href="Strings/isopy.askeystring.html">askeystring</a></li>
<li class="toctree-l3"><a class="reference internal" href="Strings/isopy.MassKeyString.html">MassKeyString</a></li>
<li class="toctree-l3"><a class="reference internal" href="Strings/isopy.ElementKeyString.html">ElementKeyString</a></li>
<li class="toctree-l3"><a class="reference internal" href="Strings/isopy.IsotopeKeyString.html">IsotopeKeyString</a></li>
<li class="toctree-l3"><a class="reference internal" href="Strings/isopy.RatioKeyString.html">RatioKeyString</a></li>
<li class="toctree-l3"><a class="reference internal" href="Strings/isopy.GeneralKeyString.html">GeneralKeyString</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#key-lists">Key lists</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Lists/isopy.keylist.html">keylist</a></li>
<li class="toctree-l3"><a class="reference internal" href="Lists/isopy.askeylist.html">askeylist</a></li>
<li class="toctree-l3"><a class="reference internal" href="Lists/isopy.MassKeyList.html">MassKeyList</a></li>
<li class="toctree-l3"><a class="reference internal" href="Lists/isopy.ElementKeyList.html">ElementKeyList</a></li>
<li class="toctree-l3"><a class="reference internal" href="Lists/isopy.IsotopeKeyList.html">IsotopeKeyList</a></li>
<li class="toctree-l3"><a class="reference internal" href="Lists/isopy.RatioKeyList.html">RatioKeyList</a></li>
<li class="toctree-l3"><a class="reference internal" href="Lists/isopy.GeneralKeyList.html">GeneralKeyList</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#isopy-arrays">Isopy arrays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.array.html">array</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.asarray.html">asarray</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.asanyarray.html">asanyarray</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.MassArray.html">MassArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.ElementArray.html">ElementArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.IsotopeArray.html">IsotopeArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.RatioArray.html">RatioArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.GeneralArray.html">GeneralArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.empty.html">empty</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.zeros.html">zeros</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.ones.html">ones</a></li>
<li class="toctree-l3"><a class="reference internal" href="Arrays/isopy.full.html">full</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#isopy-dictionaries">Isopy dictionaries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Dicts/isopy.IsopyDict.html">IsopyDict</a></li>
<li class="toctree-l3"><a class="reference internal" href="Dicts/isopy.ScalarDict.html">ScalarDict</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference_values.html">Reference values</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">Read/Write</a></li>
<li class="toctree-l1"><a class="reference internal" href="array_functions.html">Array functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolbox.html">Toolbox</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">isopy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Data types</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/refpages/dtypes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-types">
<h1>Data types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h1>
<p>Documented here are the custom data types implemented by isopy for working with and manipulating different types of
geochemical data.</p>
<div class="section" id="flavours">
<h2>Flavours<a class="headerlink" href="#flavours" title="Permalink to this headline">¶</a></h2>
<p>Isopy key strings, key lists and isopy arrays come in 5 different flavours, each meant to represent a different kind of geochemical data. The flavour of
each data type is determined by the key string(s) that it contains. The 5 different flavours are:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Mass</span></code>  flavour represent data described by a mass number. Therefore key strings are restricted to integer numbers, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;105&quot;</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Element</span></code>  flavour represents elemental data using the element symbol. Key string are restricted to one or two characters. The first character is always
in upper case and the second character, if present, is always in lower case, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;Pd&quot;</span></code></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Isotope</span></code>  flavour represent isotope data and the key string consists of a <code class="docutils literal notranslate"><span class="pre">Mass</span></code> key string followed by an <code class="docutils literal notranslate"><span class="pre">Element</span></code>
key string, e.g <code class="docutils literal notranslate"><span class="pre">&quot;105Pd&quot;</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Ratio</span></code>  flavour represents a ratio between two sets of data. It consists of a numerator key string and a denominator key string, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;108Pd/105Pd&quot;</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">General</span></code>  flavour represent data that cannot be described by any of the other flavours. The key string can be any string e.g. <code class="docutils literal notranslate"><span class="pre">&quot;hermione&quot;</span></code>.</p></li>
</ul>
</div>
<div class="section" id="key-strings">
<span id="keystring"></span><h2>Key strings<a class="headerlink" href="#key-strings" title="Permalink to this headline">¶</a></h2>
<p>Key strings are what determine the flavour of key lists and isopy arrays. Each key string has a
strict string format but this is in almost all instances applied internally by isopy. Therefore
any string that returns <code class="docutils literal notranslate"><span class="pre">True</span></code> when compared to a key string is a valid representation of that
key string:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">keystring</span><span class="p">(</span><span class="s1">&#39;105pd&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;pd105&#39;</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">keystring</span><span class="p">(</span><span class="s1">&#39;pd105&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;PD105&#39;</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">keystring</span><span class="p">(</span><span class="s1">&#39;pd105&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;105pD&#39;</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Any key string can be turned in to a ratio key string using <code class="docutils literal notranslate"><span class="pre">/</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">keystring</span><span class="p">(</span><span class="s1">&#39;pd108&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="s1">&#39;pd105&#39;</span>
<span class="go">RatioKeyString(&#39;108Pd/105Pd&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;pd108&#39;</span> <span class="o">/</span> <span class="n">isopy</span><span class="o">.</span><span class="n">keystring</span><span class="p">(</span><span class="s1">&#39;pd105&#39;</span><span class="p">)</span> <span class="c1">#Works in both directions</span>
<span class="go">RatioKeyString(&#39;108Pd/105Pd&#39;)</span>
</pre></div>
</div>
<p><strong>Note</strong> Comparing two key string with different flavours will always return
<code class="docutils literal notranslate"><span class="pre">False</span></code> even if the string itself is the same:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">elekey</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">ElementKeyString</span><span class="p">(</span><span class="s1">&#39;Pd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genkey</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">GeneralKeyString</span><span class="p">(</span><span class="s1">&#39;Pd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elekey</span> <span class="o">==</span> <span class="n">genkey</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">elekey</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">genkey</span><span class="p">)</span>
<span class="go">(False, True)</span>
</pre></div>
</div>
<p>Comparing the hash of a key string to the hash of a normal string will also always return
<code class="docutils literal notranslate"><span class="pre">False</span></code> even when a normal comparison would return <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">keystring</span><span class="p">(</span><span class="s1">&#39;Pd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hash</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">==</span> <span class="nb">hash</span><span class="p">(</span><span class="s1">&#39;Pd&#39;</span><span class="p">),</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;Pd&#39;</span>
<span class="go">(False, True)</span>
</pre></div>
</div>
<p>Therefore it is not advised to use key strings as <em>keys</em> in a normal <code class="docutils literal notranslate"><span class="pre">dict</span></code>.
Use one of the isopy dictionaries instead which will automatically convert <em>key</em> strings into isopy
key strings before looking up the value.</p>
<p>The following classes/functions can be used to create isopy key strings:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="Strings/isopy.keystring.html#isopy.keystring" title="isopy.keystring"><code class="xref py py-obj docutils literal notranslate"><span class="pre">keystring</span></code></a>(string, *[, allow_reformatting])</p></td>
<td><p>Convert <em>string</em> into a key string and return it.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Strings/isopy.askeystring.html#isopy.askeystring" title="isopy.askeystring"><code class="xref py py-obj docutils literal notranslate"><span class="pre">askeystring</span></code></a>(key, *[, allow_reformatting])</p></td>
<td><p>If <em>string</em> is a key string it is returned otherwise convert <em>string</em> to a key string and return it.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Strings/isopy.MassKeyString.html#isopy.MassKeyString" title="isopy.MassKeyString"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MassKeyString</span></code></a>(string, *[, allow_reformatting])</p></td>
<td><p>String representation of a mass number.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Strings/isopy.ElementKeyString.html#isopy.ElementKeyString" title="isopy.ElementKeyString"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ElementKeyString</span></code></a>(string, *[, allow_reformatting])</p></td>
<td><p>A string representation of an element symbol limited to two letters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Strings/isopy.IsotopeKeyString.html#isopy.IsotopeKeyString" title="isopy.IsotopeKeyString"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IsotopeKeyString</span></code></a>(string, *[, allow_reformatting])</p></td>
<td><p>A string representation of an isotope consisting of a mass number followed by an element symbol.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Strings/isopy.RatioKeyString.html#isopy.RatioKeyString" title="isopy.RatioKeyString"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RatioKeyString</span></code></a>(string, *[, allow_reformatting])</p></td>
<td><p>A string representation of a ratio of two keystrings.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Strings/isopy.GeneralKeyString.html#isopy.GeneralKeyString" title="isopy.GeneralKeyString"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GeneralKeyString</span></code></a>(string, *[, allow_reformatting])</p></td>
<td><p>A general key string that can hold any string value.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="key-lists">
<span id="keylist"></span><h2>Key lists<a class="headerlink" href="#key-lists" title="Permalink to this headline">¶</a></h2>
<p>Key list store contain a sequence of one or more key strings. They can only contain key string of
the same flavour. Key lists are immutable as they inherit from <code class="docutils literal notranslate"><span class="pre">tuple</span></code>, however, <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code> can
be used to add/remove items and return a new key list:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;ag&#39;</span>
<span class="go">ElementKeyList(&#39;Ru&#39;, &#39;Pd&#39;, &#39;Cd&#39;, &#39;Ag&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s1">&#39;ag&#39;</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span>
<span class="go">ElementKeyList(&#39;Ag&#39;, &#39;Rh&#39;, &#39;Ru&#39;, &#39;Pd&#39;, &#39;Cd&#39;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="s1">&#39;cd&#39;</span>
<span class="go">ElementKeyList(&#39;Ru&#39;, &#39;Pd&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">,</span> <span class="s1">&#39;ag&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span>
<span class="go">ElementKeyList(&#39;Rh&#39;, &#39;Ag&#39;)</span>
</pre></div>
</div>
<p>In addition new key lists can be created using <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code> and <code class="docutils literal notranslate"><span class="pre">^</span></code>
for <em>and</em>, <em>or</em> and <em>xor</em> operations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">[</span><span class="s1">&#39;pd&#39;</span><span class="p">,</span><span class="s1">&#39;ag&#39;</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">]</span> <span class="c1">#key strings present in both lists</span>
<span class="go">ElementKeyList(&#39;Pd&#39;, &#39;Cd&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s1">&#39;pd&#39;</span><span class="p">,</span><span class="s1">&#39;ag&#39;</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">]</span> <span class="o">|</span> <span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span> <span class="c1">#key strings present in either of the lists</span>
<span class="go">ElementKeyList(&#39;Pd&#39;, &#39;Ag&#39;, &#39;Rh&#39;, &#39;Cd&#39;, &#39;Ru&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span> <span class="o">^</span> <span class="p">[</span><span class="s1">&#39;pd&#39;</span><span class="p">,</span><span class="s1">&#39;ag&#39;</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">]</span> <span class="c1">#key strings present in only one of the lists</span>
<span class="go">ElementKeyList(&#39;Ru&#39;, &#39;Ag&#39;, &#39;Rh&#39;)</span>
</pre></div>
</div>
<p>You can compare two list using <code class="docutils literal notranslate"><span class="pre">==</span></code> and  you can test membership using <code class="docutils literal notranslate"><span class="pre">in</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;pd&#39;</span> <span class="ow">in</span> <span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;ru&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>You can turn any key list into a ratio key list using <code class="docutils literal notranslate"><span class="pre">/</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="s1">&#39;pd&#39;</span> <span class="c1">#Same denominator for all numerators</span>
<span class="go">RatioKeyList(&#39;Ru/Pd&#39;, &#39;Pd/Pd&#39;, &#39;Cd/Pd&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">,</span> <span class="s1">&#39;ag&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">isopy</span><span class="o">.</span><span class="n">keylist</span><span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">)</span>
<span class="go">RatioKeyList(&#39;Pd/Ru&#39;, &#39;Rh/Pd&#39;, &#39;Ag/Cd&#39;)</span>
</pre></div>
</div>
<p>The following classes/functions can be used to create isopy key lists:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="Lists/isopy.keylist.html#isopy.keylist" title="isopy.keylist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">keylist</span></code></a>(*keys[, skip_duplicates, …])</p></td>
<td><p>Convert <em>keys</em> into a key string list and return it.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Lists/isopy.askeylist.html#isopy.askeylist" title="isopy.askeylist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">askeylist</span></code></a>(keys[, allow_reformatting])</p></td>
<td><p>If <em>keys</em> is a key string list return it otherwise convert <em>keys</em> to a key string list and return it.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Lists/isopy.MassKeyList.html#isopy.MassKeyList" title="isopy.MassKeyList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MassKeyList</span></code></a>(*keys[, skip_duplicates, …])</p></td>
<td><p>A tuple consisting exclusively of <a class="reference internal" href="Strings/isopy.MassKeyString.html#isopy.MassKeyString" title="isopy.MassKeyString"><code class="xref py py-class docutils literal notranslate"><span class="pre">MassKeyString</span></code></a> items.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Lists/isopy.ElementKeyList.html#isopy.ElementKeyList" title="isopy.ElementKeyList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ElementKeyList</span></code></a>(*keys[, skip_duplicates, …])</p></td>
<td><p>A tuple consisting exclusively of <a class="reference internal" href="Strings/isopy.ElementKeyString.html#isopy.ElementKeyString" title="isopy.ElementKeyString"><code class="xref py py-class docutils literal notranslate"><span class="pre">ElementKeyString</span></code></a> items.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Lists/isopy.IsotopeKeyList.html#isopy.IsotopeKeyList" title="isopy.IsotopeKeyList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IsotopeKeyList</span></code></a>(*keys[, skip_duplicates, …])</p></td>
<td><p>A tuple consisting exclusively of <a class="reference internal" href="Strings/isopy.IsotopeKeyString.html#isopy.IsotopeKeyString" title="isopy.IsotopeKeyString"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsotopeKeyString</span></code></a> items.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Lists/isopy.RatioKeyList.html#isopy.RatioKeyList" title="isopy.RatioKeyList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RatioKeyList</span></code></a>(*keys[, skip_duplicates, …])</p></td>
<td><p>A tuple consisting exclusively of <a class="reference internal" href="Strings/isopy.RatioKeyString.html#isopy.RatioKeyString" title="isopy.RatioKeyString"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatioKeyString</span></code></a> items.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Lists/isopy.GeneralKeyList.html#isopy.GeneralKeyList" title="isopy.GeneralKeyList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GeneralKeyList</span></code></a>(*keys[, skip_duplicates, …])</p></td>
<td><p>A tuple consisting exclusively of <a class="reference internal" href="Lists/isopy.GeneralKeyList.html#isopy.GeneralKeyList" title="isopy.GeneralKeyList"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeneralKeyList</span></code></a> items.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="isopy-arrays">
<span id="isopyarray"></span><h2>Isopy arrays<a class="headerlink" href="#isopy-arrays" title="Permalink to this headline">¶</a></h2>
<p>Isopy arrays are a custom view of a structured numpy array where each column in the array
is represented by a key string. Isopy arrays can be 0-dimensional, where each column only
holds a single value, or 1-dimensional, where the array contains one or more rows each holding
a single value for each column. Each column has its own data type. If the data type is not
specified upon creation it is inherited from the input, if the input is a numpy ndarray object,
otherwise it defaults to <code class="docutils literal notranslate"><span class="pre">np.float64</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span> <span class="c1">#0-dimensional, no rows</span>
<span class="go">(row) , Ru      , Pd      , Cd</span>
<span class="go">None  , 1.00000 , 2.00000 , 3.00000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span> <span class="c1">#1-dimensional, 1 row</span>
<span class="go">(row) , Ru      , Pd      , Cd</span>
<span class="go">0     , 1.00000 , 2.00000 , 3.00000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">],</span> <span class="p">[</span><span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">]],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span> <span class="c1">#1-dimensional, 3 rows</span>
<span class="go">(row) , Ru       , Pd       , Cd</span>
<span class="go">0     , 1.00000  , 2.00000  , 3.00000</span>
<span class="go">1     , 11.00000 , 12.00000 , 13.00000</span>
<span class="go">2     , 21.00000 , 22.00000 , 23.00000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span> <span class="c1">#integer data type</span>
<span class="go">(row) , Ru , Pd , Cd</span>
<span class="go">None  , 1  , 2  , 3</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span> <span class="c1">#data type inherited from numpy object</span>
<span class="go">(row) , Ru , Pd , Cd</span>
<span class="go">None  , 1  , 2  , 3</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span>
<span class="go">(row) , Ru , Pd      , Cd</span>
<span class="go">None  , 1  , 2.00000 , 3</span>
</pre></div>
</div>
<p>Isopy arrays can also be created from a number of other data types, e.g:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">({</span><span class="s1">&#39;ru&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="s1">&#39;pd&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">22</span><span class="p">],</span> <span class="s1">&#39;cd&#39;</span><span class="p">:[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">23</span><span class="p">]})</span> <span class="c1">#Keys taken from dictionary</span>
<span class="go">(row) , Ru       , Pd       , Cd</span>
<span class="go">0     , 1.00000  , 2.00000  , 3.00000</span>
<span class="go">1     , 11.00000 , 12.00000 , 13.00000</span>
<span class="go">2     , 12.00000 , 22.00000 , 23.00000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">({</span><span class="s1">&#39;ru&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="s1">&#39;pd&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">22</span><span class="p">],</span> <span class="s1">&#39;cd&#39;</span><span class="p">:[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">23</span><span class="p">]},</span> <span class="p">[</span><span class="s1">&#39;101ru&#39;</span><span class="p">,</span> <span class="s1">&#39;105pd&#39;</span><span class="p">,</span> <span class="s1">&#39;111cd&#39;</span><span class="p">])</span> <span class="c1">#Overrides keys</span>
<span class="go">(row) , 101Ru    , 105Pd    , 111Cd</span>
<span class="go">0     , 1.00000  , 2.00000  , 3.00000</span>
<span class="go">1     , 11.00000 , 12.00000 , 13.00000</span>
<span class="go">2     , 12.00000 , 22.00000 , 23.00000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;ru&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="s1">&#39;pd&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">22</span><span class="p">],</span> <span class="s1">&#39;cd&#39;</span><span class="p">:[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">23</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dataframe</span><span class="p">)</span> <span class="c1">#inherits data type from the dataframe</span>
<span class="go">(row) , index , ru , pd , cd</span>
<span class="go">0     , 0     , 1  , 2  , 3</span>
<span class="go">1     , 1     , 11 , 12 , 13</span>
<span class="go">2     , 2     , 12 , 22 , 23</span>
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code> and <code class="docutils literal notranslate"><span class="pre">**</span></code> with isopy arrays with scalars or numpy like arrays
will perform the operation on each column in turn.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">*</span> <span class="mi">2</span>
<span class="go">(row) , Ru      , Pd      , Cd</span>
<span class="go">None  , 2.00000 , 4.00000 , 6.00000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">*</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="go">(row) , Ru      , Pd      , Cd</span>
<span class="go">0     , 1.00000 , 2.00000 , 3.00000</span>
<span class="go">1     , 2.00000 , 4.00000 , 6.00000</span>
<span class="go">2     , 3.00000 , 6.00000 , 9.00000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">],</span> <span class="p">[</span><span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">]],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">*</span> <span class="mi">2</span>
<span class="go">(row) , Ru       , Pd       , Cd</span>
<span class="go">0     , 2.00000  , 4.00000  , 6.00000</span>
<span class="go">1     , 22.00000 , 24.00000 , 26.00000</span>
<span class="go">2     , 42.00000 , 44.00000 , 46.00000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">*</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="go">(row) , Ru       , Pd       , Cd</span>
<span class="go">0     , 1.00000  , 2.00000  , 3.00000</span>
<span class="go">1     , 22.00000 , 24.00000 , 26.00000</span>
<span class="go">2     , 63.00000 , 66.00000 , 69.00000</span>
</pre></div>
</div>
<p>Operations involving two isopy arrays will perform the operation per column.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array1</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array2</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array1</span> <span class="o">*</span> <span class="n">array2</span>
<span class="go">(row) , Ru      , Pd      , Cd</span>
<span class="go">None  , 0.50000 , 2.00000 , 4.50000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array3</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">],</span> <span class="p">[</span><span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">]],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array2</span> <span class="o">+</span> <span class="n">array3</span>
<span class="go">(row) , Ru       , Pd       , Cd</span>
<span class="go">0     , 1.50000  , 3.00000  , 4.50000</span>
<span class="go">1     , 11.50000 , 13.00000 , 14.50000</span>
<span class="go">2     , 21.50000 , 23.00000 , 24.50000</span>
</pre></div>
</div>
<p>For columns only present in one of the arrays a default value of <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> will be used.
However, isopy comes with functions that allow you to change the default value used.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array1</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array2</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;ag&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array1</span> <span class="o">+</span> <span class="n">array2</span>
<span class="go">(row) , Ru      , Pd      , Cd  , Ag</span>
<span class="go">None  , 1.50000 , 3.00000 , nan , nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">array1</span><span class="p">,</span> <span class="n">array2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">#Changes the default value to 0</span>
<span class="go">(row) , Ru      , Pd      , Cd      , Ag</span>
<span class="go">None  , 1.50000 , 3.00000 , 3.00000 , 1.50000</span>
</pre></div>
</div>
<p>You can also combine isopy arrays with dictionaries. In this case the column <em>key</em>
will be looked up in the dictionary. The default value for missing keys is <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>
for normal dictionaries but for isopy dictionaries their associated default value.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array1</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ru&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ag&#39;</span><span class="p">:</span> <span class="mf">1.25</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">}</span> <span class="c1">#Keys are automatically reformatted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array1</span> <span class="o">*</span> <span class="n">dict2</span>
<span class="go">(row) , Ru      , Pd      , Cd</span>
<span class="go">None  , 0.50000 , 2.00000 , 4.50000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array1</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ru&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ag&#39;</span><span class="p">:</span> <span class="mf">1.25</span><span class="p">}</span>
<span class="go">array1 * dict2</span>
<span class="go">(row) , Ru      , Pd      , Cd</span>
<span class="go">None  , 0.50000 , 2.00000 , nan</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array1</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ru&#39;</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">ScalarDict</span><span class="p">({</span><span class="s1">&#39;ru&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ag&#39;</span><span class="p">:</span> <span class="mf">1.25</span><span class="p">},</span> <span class="n">default_value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array1 * dict2</span>
<span class="go">(row) , Ru      , Pd      , Cd</span>
<span class="go">None  , 0.50000 , 2.00000 , 3.00000</span>
</pre></div>
</div>
<p>The following classes/functions can be used to create isopy arrays:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="Arrays/isopy.array.html#isopy.array" title="isopy.array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">array</span></code></a>([values, keys, dtype, ndim])</p></td>
<td><p>Convert the input arguments to a isopy array.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Arrays/isopy.asarray.html#isopy.asarray" title="isopy.asarray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asarray</span></code></a>(a, *[, ndim])</p></td>
<td><p>If <em>a</em> is an isopy array return it otherwise convert <em>a</em> into an isopy array and return it.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Arrays/isopy.asanyarray.html#isopy.asanyarray" title="isopy.asanyarray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asanyarray</span></code></a>(a, *[, dtype, ndim])</p></td>
<td><p>Return <code class="docutils literal notranslate"><span class="pre">isopy.asarray(a)</span></code> if <em>a</em> possible otherwise return <code class="docutils literal notranslate"><span class="pre">numpy.asanyarray(a)</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Arrays/isopy.MassArray.html#isopy.MassArray" title="isopy.MassArray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MassArray</span></code></a>(values[, keys, dtype, ndim])</p></td>
<td><p>An array where data is stored in named columns with <a class="reference internal" href="Strings/isopy.MassKeyString.html#isopy.MassKeyString" title="isopy.MassKeyString"><code class="xref py py-class docutils literal notranslate"><span class="pre">MassKeyString</span></code></a> keys.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Arrays/isopy.ElementArray.html#isopy.ElementArray" title="isopy.ElementArray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ElementArray</span></code></a>(values[, keys, dtype, ndim])</p></td>
<td><p>An array where data is stored in named columns with <a class="reference internal" href="Strings/isopy.ElementKeyString.html#isopy.ElementKeyString" title="isopy.ElementKeyString"><code class="xref py py-class docutils literal notranslate"><span class="pre">ElementKeyString</span></code></a> keys.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Arrays/isopy.IsotopeArray.html#isopy.IsotopeArray" title="isopy.IsotopeArray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IsotopeArray</span></code></a>(values[, keys, dtype, ndim])</p></td>
<td><p>An array where data is stored in named columns with <a class="reference internal" href="Strings/isopy.IsotopeKeyString.html#isopy.IsotopeKeyString" title="isopy.IsotopeKeyString"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsotopeKeyString</span></code></a> keys.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Arrays/isopy.RatioArray.html#isopy.RatioArray" title="isopy.RatioArray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RatioArray</span></code></a>(values[, keys, dtype, ndim])</p></td>
<td><p>An array where data is stored in named columns with <a class="reference internal" href="Strings/isopy.RatioKeyString.html#isopy.RatioKeyString" title="isopy.RatioKeyString"><code class="xref py py-class docutils literal notranslate"><span class="pre">RatioKeyString</span></code></a> keys.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Arrays/isopy.GeneralArray.html#isopy.GeneralArray" title="isopy.GeneralArray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GeneralArray</span></code></a>(values[, keys, dtype, ndim])</p></td>
<td><p>An array where data is stored in named columns with <a class="reference internal" href="Strings/isopy.GeneralKeyString.html#isopy.GeneralKeyString" title="isopy.GeneralKeyString"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeneralKeyString</span></code></a> keys.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Arrays/isopy.empty.html#isopy.empty" title="isopy.empty"><code class="xref py py-obj docutils literal notranslate"><span class="pre">empty</span></code></a>(rows[, keys, ndim, dtype])</p></td>
<td><p>Create an isopy array without initalising entries.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Arrays/isopy.zeros.html#isopy.zeros" title="isopy.zeros"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zeros</span></code></a>(rows[, keys, ndim, dtype])</p></td>
<td><p>Create an isopy array filled with zeros.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="Arrays/isopy.ones.html#isopy.ones" title="isopy.ones"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ones</span></code></a>(rows[, keys, ndim, dtype])</p></td>
<td><p>Create an isopy array filled with ones.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Arrays/isopy.full.html#isopy.full" title="isopy.full"><code class="xref py py-obj docutils literal notranslate"><span class="pre">full</span></code></a>(rows, fill_value, *[, keys, ndim, dtype])</p></td>
<td><p>Create an isopy array filled with <em>fill_value</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="isopy-dictionaries">
<h2>Isopy dictionaries<a class="headerlink" href="#isopy-dictionaries" title="Permalink to this headline">¶</a></h2>
<p>Isopy dictionaries store values using isopy key strings. They also allow you to make
dictionaries readonly and to predefine the default value to be used for absent keys.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isopy</span><span class="o">.</span><span class="n">IsopyDict</span><span class="p">({</span><span class="s1">&#39;ru&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ag&#39;</span><span class="p">:</span> <span class="mf">1.25</span><span class="p">},</span> <span class="n">default_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">IsopyDict(default_value = 0, readonly = False,</span>
<span class="go">{&quot;Ru&quot;: 0.5</span>
<span class="go">&quot;Rh&quot;: 0.75</span>
<span class="go">&quot;Pd&quot;: 1</span>
<span class="go">&quot;Ag&quot;: 1.25})</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">get()</span></code> method of the <a href="#id1"><span class="problematic" id="id2">:class:`ScalarDict`_</span></a> will automatically calculate the value
for an absent ratio key string if both the numerator and the denominator keys are present.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">refval</span> <span class="o">=</span> <span class="n">isopy</span><span class="o">.</span><span class="n">ScalarDict</span><span class="p">({</span><span class="s1">&#39;ru&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;rh&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s1">&#39;pd&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ag&#39;</span><span class="p">:</span> <span class="mf">1.25</span><span class="p">},</span> <span class="n">default_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">refval</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pd/ru&#39;</span><span class="p">)</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>The following classes/functions can be used to create isopy dictionaries:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="Dicts/isopy.IsopyDict.html#isopy.IsopyDict" title="isopy.IsopyDict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IsopyDict</span></code></a>(*args[, default_value, readonly])</p></td>
<td><p>Dictionary where each value is stored by a isopy keystring key.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="Dicts/isopy.ScalarDict.html#isopy.ScalarDict" title="isopy.ScalarDict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ScalarDict</span></code></a>(*args[, default_value, readonly])</p></td>
<td><p>Dictionary where each value is stored as a numpy float by a isopy keystring key.</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="Strings/isopy.keystring.html" class="btn btn-neutral float-right" title="keystring" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../tutorial_page.html" class="btn btn-neutral float-left" title="Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Mattias Ek.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>